<!DOCTYPE html>
<html>
  <head>
    <title>TaskMaster config panel</title>
    <link rel="stylesheet" href="i_hope_this_looks_decent.css">
  </head>
  <body onload="on_load()">
    <nav>
      <a href="index.html">index</a>
      <a href="config.html">configuration</a>
      <a href="tasks.html">task list</a>
      <a href="networks.html">wifi list</a>
    </nav>
    <h1>config panel</h1>
    <input type="button" onclick="load_from_ram()" value="load config">
    <!--<input type="button" id="from_const" onclick="load_from_const()" value="load config from js const"> -->
    <br>
    <br>
    <form id="config_form">
      <label for="ntp_server">ntp server:</label><br>
      <div class="input_container">
      <input type="text" id="ntp_server" value="null"><br>
      <div class="help_text">
        ntp server used to fetch the time from.
      </div>
    </div><br>
      <label for="can_override">is the override pin enabled?</label><br>
      <div class="input_container">
      <select id="can_override" onchange="update_override()">
        <option value="false">false</option>
        <option value="true">true</option>
      </select><br>
      <div class="help_text">
        if true, the days tasks can be disabled. if false, they cannot be overriden.
      </div>
    </div><br>
      <label for="override_pin">override pin:</label><br>
      <div class="input_container">
        <input type="number" id="override_pin" min="0" max="24" value="0" disabled><br>
        <div class="help_text">
          gpio pin used to override the days tasks.
        </div>
      </div><br>
      <label for="num_overrides">number of overrides:</label><br>
      <div class="input_container">
        <input type="number" id="num_overrides" min="0" max="7" value="0" disabled><br>
        <div class="help_text">
          how many times (per week) the days tasks can be overriden.
        </div>
      </div><br>
      <label for="reset_day">reset day:</label><br>
      <div class="input_container">
    
        <input type="number" id="reset_day" min="0" max="6" value="0" disabled><br>
        <div class="help_text">
          what day of the week the number of available overrids resets.
        </div>
      </div><br>
      <label for="message_time">message time:</label><br>
      <div class="input_container">
    
        <input type="number" id="message_time" value="0"><br>
        <div class="help_text">
          time (in seconds) that messages will stay on the oled.
        </div>
      </div><br>
      <label for="reset_time">reset time:</label><br>
      <div class="input_container">
        <input type="text" id="reset_time" value="null"><br>
        <div class="help_text">
          time when all the days tasks reactivate. (also when the daily override is reset, if enabled)
        </div>
      </div><br>
      <label for="timezone">timezone:</label><br>
      <div class="input_container">
        <input type="text" id="timezone" list="zones" value="null" onchange="zone_changed()"><br>
        <datalist id="zones">
      </datalist>
        <div class="help_text">
          name of the timezone you want used.
        </div>
      </div><br>
    
      <h3>OpenShock related settings</h3>
      <label for="os_server">OpenShock server:</label><br>
      <div class="input_container">
        <input type="text" id="os_server" value="null"><br>
        <div class="help_text">
          change this is you want to use a custom OpenShock instance. otherwise just use "api.openshock.app".
        </div>
      </div><br>
      <label for="api_key">api key:</label><br>
      <div class="input_container">
        <input type="text" id="api_key" value="null"><br>
        <div class="help_text">
          OpenShock api key used by this device.
        </div>
      </div><br>
      <label for="shocker_id">shocker id:</label><br>
      <div class="input_container">
        <input type="text" id="shocker_id" value="null"><br>
        <div class="help_text">
          id of shocker to use for warnings and punishments.
        </div>
      </div><br>
    </form>
    <br>
    <input type="button" onclick="write_to_flash()" value="save config to flash">
    <script src="./scripts/jquery-3.3.1.min.js"></script>
    <script src="./scripts/config_script.js"></script>
    <script src="./scripts/common.js"></script>
    <script src="./scripts/tz_text.js"></script>
  </body>
</html>